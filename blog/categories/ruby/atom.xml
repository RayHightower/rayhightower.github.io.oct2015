<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Ruby | RayHightower.com]]></title>
  <link href="http://RayHightower.com/blog/categories/ruby/atom.xml" rel="self"/>
  <link href="http://RayHightower.com/"/>
  <updated>2014-10-04T11:04:27-04:00</updated>
  <id>http://RayHightower.com/</id>
  <author>
    <name><![CDATA[Raymond T. Hightower - Chicago Ruby on Rails & iOS Developer]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Be Awesome. Tackle Big League Problems at WindyCityRails]]></title>
    <link href="http://RayHightower.com/blog/2014/08/05/be-awesome-tackle-big-league-problems-at-windycityrails/"/>
    <updated>2014-08-05T16:21:00-04:00</updated>
    <id>http://RayHightower.com/blog/2014/08/05/be-awesome-tackle-big-league-problems-at-windycityrails</id>
    <content type="html"><![CDATA[<p><span class='caption-wrapper right'><img class='caption' src='/images/big_league_problems_windycityrails.jpg' width='' height='' alt='Be awesome.' title='Be awesome.'><span class='caption-text'>Be awesome.</span></span>
Do you see yourself in any of these scenarios?</p>

<ul>
<li><p>You have already built a successful Rails app. Now that you&rsquo;re &ldquo;done&rdquo;, you know you can make it better, but you&rsquo;re not sure how. You want to take your skills to the next level.</p></li>
<li><p>You recently graduated from <a href="http://devbootcamp.com">Dev Bootcamp</a>, <a href="http://thestarterleague.com">Starter League</a>, <a href="http://www.mobilemakers.co/">Mobile Makers</a> or another school. You&rsquo;re ready to meet and interact with your next generation of mentors.</p></li>
<li><p>You are no longer a beginner. You have seen <em>advanced</em> developers in action, and you are determined to get there yourself.</p></li>
<li><p>Software development is relatively new to you, and you built a successful track record in another profession. You want to meet people who can help you accelerate through the beginner phase so you can launch something useful.</p></li>
</ul>


<p>Common thread: It&rsquo;s time to unleash the awesomeness in your bones. You want to take your skills to the next level, and you are ready to tackle <em>Big League Problems</em>. <a href="http://windycityrails.org">WindyCityRails</a> is for you.</p>

<!--more-->


<h3>What are Big League Problems?</h3>

<p>You might think of a big league problem as a good problem. For example, the Rails app you built is pulling in customers, and you&rsquo;re bumping into the limits of your software architecture. Who knew that so many people would buy from you?</p>

<p>Now&hellip; How do you scale? Do you buy more hardware, change your architecture, choose a new platform, or some combination of these? <a href="http://www.windycityrails.org/schedule/#williams">Dr. Nic Williams</a>, <a href="http://www.windycityrails.org/schedule/#shirai">Brian Shirai</a>, <a href="http://www.windycityrails.org/schedule/#light">Evan Light</a>, <a href="http://www.windycityrails.org/schedule/#menard">Mark Menard</a> deal with scaling problems. Learn from them.</p>

<p>Maybe you built a gem to solve a problem for yourself, and now you want to release your gem to the world. What legal questions do you need to consider? Did Rails face similar challenges in the beginning? <a href="http://www.windycityrails.org/schedule/#saper">Daliah Saper</a> is an attorney who specializes in intellectual property and other open source software issues. Put her team to work for you.</p>

<p>How about security? Have you outgrown the <code>Devise</code> gem? Or do you simply need to know more about <code>Devise</code> internals so that you can use it more effectively? Maybe it&rsquo;s time to abandon username/password logins altogether and go with SQRL. <a href="http://www.windycityrails.org/schedule/#love">Justin Love</a> and <a href="http://www.windycityrails.org/schedule/#mazza">Lucas Mazza</a> might have some ideas for you.</p>

<h3>Awesome Speakers. Awesome Audience.</h3>

<p>This year&rsquo;s WindyCityRails features the most powerful collection of speakers we&rsquo;ve ever assembled. Check out the <a href="http://www.windycityrails.org/schedule/">complete list of WindyCityRails speakers</a> and ask yourself what you can learn from each one.</p>

<p>Even better: Only 300 WindyCityRails tickets will be sold. Our speakers enjoy interacting with audience members throughout the conference. As professionals, they are always learning, too! So if you want some face time with people who understand Big League Problems (and more importantly, Big League Solutions) WindyCityRails is the place for you to be.</p>

<h3>Get Tickets Now</h3>

<p>Tickets are selling fast. Get yours now at <a href="http://www.windycityrails.org/register/">http://www.windycityrails.org/register/</a>. Use the promo code AWESOME to save $75.00 on the standard price.</p>

<p>We look forward to seeing you at WindyCityRails!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Recursion and Memoization]]></title>
    <link href="http://RayHightower.com/blog/2014/04/12/recursion-and-memoization/"/>
    <updated>2014-04-12T10:48:00-04:00</updated>
    <id>http://RayHightower.com/blog/2014/04/12/recursion-and-memoization</id>
    <content type="html"><![CDATA[<blockquote><p>To iterate is human, to recurse divine.
&nbsp;<br/>
~ L. Peter Deutsch</p></blockquote>

<p>Recursion is available in many high-level languages, including Ruby. Recursive solutions can be joyfully elegant. At the same time, the pursuit of elegance can lead to unexpected performance pitfalls.</p>

<p>Fortunately, we can use optimization techniques to address performance problems before they occur. Memoization is one technique in our arsenal.</p>

<!--more-->


<h3>Before Memoization</h3>

<p>Memoization was designed to solve a particular kind of problem. Consider a method called <code>fibo(n)</code> that calculates the <em>nth</em> number of the <a href="http://en.wikipedia.org/wiki/Fibonacci_number">Fibonacci</a> sequence.</p>

<p>```ruby</p>

<h1>Calculate the nth Fibonacci number, f(n).</h1>

<p>def fibo (n)
  if n &lt;= 1</p>

<pre><code>return n
</code></pre>

<p>  else</p>

<pre><code>value = fibo(n-1) + fibo(n-2)
return value
</code></pre>

<p>  end
end</p>

<h1>Display the Fibonacci sequence.</h1>

<p>(1..40).each do |number|
  puts &ldquo;fibo(#{number}) = #{fibo(number)}&rdquo;
end
```</p>

<p>The example runs, but performance slows down as <em>n</em> gets larger. Why? Because this method re-calculates all preceeding Fibonacci numbers every time it calculates a new <code>fibo(n)</code>. When we calculate Fibonacci numbers manually, we know better. Humans are smart enough to refer to earlier work. But the <code>fibo(n)</code> method does not manage time very well.</p>

<p>Is it possible for the <code>fibo(n)</code> method to remember the results of earlier calculations so that it can avoid doing work that is already done? Yes, through <a href="http://en.wikipedia.org/wiki/Memoization">memoization</a>.</p>

<h3>Memoization</h3>

<p>Memoization means recording the results of earlier calculations so that we don&rsquo;t have to repeat the calculations later. If our code depends on the results of earlier calculations, and if the same calculations are performed over-and-over again, then it makes sense to store interim results (jot results down on a &lsquo;memo&rsquo; = memoization) so that we can avoid repeating the math.</p>

<p>The Fibonacci example can be improved through memoization as follows.</p>

<ul>
<li>Create a place to store temporary results.</li>
<li>Before performing a calculation, find out if the calculation has
already been done. If so, use the stored result.</li>
<li>If this is our first time calculating a particular <code>fibo(n)</code>, store
the results for future use.</li>
</ul>


<p>Here&rsquo;s how memoization is implemented in the Fibonacci example:</p>

<p>```ruby</p>

<h1>Fibonacci numbers WITH memoization.</h1>

<h1>Initialize the memoization array.</h1>

<p>@scratchpad = []
@max_fibo_size = 50
(1..@max_fibo_size).each do |i|
  @scratchpad[i] = :notcalculated
end</p>

<h1>Calculate the nth Fibonacci number, f(n).</h1>

<p>def fibo (n)
  if n > @max_fibo_size</p>

<pre><code>return "n must be #{@max_fibo_size} or less."
</code></pre>

<p>  elsif n &lt;= 1</p>

<pre><code>return n
</code></pre>

<p>  elsif @scratchpad[n] != :notcalculated</p>

<pre><code>return @scratchpad[n]
</code></pre>

<p>  else</p>

<pre><code>@scratchpad[n] = fibo(n-1) + fibo(n-2)
return @scratchpad[n]
</code></pre>

<p>  end
end</p>

<h1>Display the Fibonacci sequence.</h1>

<p>(1..50).each do |number|
  puts &ldquo;fibo(#{number}) = #{fibo(number)}&rdquo;
end
```</p>

<p>Walking through the code&hellip; First we create a memoization array, a place to store the pre-calculated values. In this example, <code>@scratchpad[]</code> serves as our memoization array.</p>

<p>The <code>fibo(n)</code> method is similar to the one in the earlier example, with a few subtle differences. First, we need to determine whether we&rsquo;ve already calculated a particular value. Since we initialized all elements of the <code>@scratchpad</code> array with the <code>:notcalculated</code> symbol, it&rsquo;s easy to figure out where work needs to be done. If a Fibonacci number <code>fibo(n)</code> has already been calculated, we return the value stored at <code>@scratchpad[n]</code>. Otherwise, we calculate the new <code>fibo(n)</code> and store that value at <code>@scratchpad[n]</code> for later use.</p>

<h3>Performance Comparison</h3>

<p>The performance of the two programs is compared in this 1-minute video.</p>

<center><iframe src="http://RayHightower.com//player.vimeo.com/video/91841948" width="500" height="313" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></center>


<p>As the video shows, memoization is a performance booster.</p>

<h3>Sample Code</h3>

<p>Sample code related to this article can be found on <a href="https://github.com/RayHightower/fibonacci">GitHub</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Homebrew Fundamentals]]></title>
    <link href="http://RayHightower.com/blog/2014/02/12/homebrew-fundamentals/"/>
    <updated>2014-02-12T14:20:00-05:00</updated>
    <id>http://RayHightower.com/blog/2014/02/12/homebrew-fundamentals</id>
    <content type="html"><![CDATA[<p>Spend enough time developing software on Mac OS X, and you will eventually need to install libraries that were written for Unix, but not specifically for OS X. Fortunately we have <a href="http://brew.sh/">Homebrew</a>, which makes it easier to install Unix libraries on the Mac.</p>

<h3>Why Homebrew?</h3>

<p>Before installing any new software, it is helpful to have a clear view of <em>why</em> we need it.</p>

<p>Homebrew is a package manager. It differs from earlier package managers like <a href="http://www.finkproject.org/">Fink</a> and <a href="http://www.macports.org/">MacPorts</a> because it is written in Ruby and based on Git. The Ruby/Git foundation means that developers from around the planet can easily contribute to Homebrew&rsquo;s growth.</p>

<p>Before package managers, developers who needed a particular library would have to:</p>

<ul>
<li>Manually download source code for the library.</li>
<li>Manually compile using <code>gcc</code> or another compiler.</li>
<li>Resolve dependencies manually.</li>
</ul>


<p>Manually, manually, manually&hellip; The old way was long and error-prone. <a href="https://twitter.com/mxcl">Max Howell</a> created Homebrew to download, compile, and resolve dependencies automatically. Now developers can focus more attention on solving problems that are directly related to their work.</p>

<!--more-->


<h3>How to Install Homebrew</h3>

<p><span class='caption-wrapper right'><img class='caption' src='/images/xcode-app-store.png' width='' height='' alt='Homebrew depends on Xcode.' title='Homebrew depends on Xcode.'><span class='caption-text'>Homebrew depends on Xcode.</span></span>
Some parts of Homebrew require Xcode, Apple&rsquo;s environment for developing software on Mac OS X. Make sure you have Xcode installed on your Mac. Xcode is available for free in the Mac App Store.</p>

<p>With Xcode installed, you can install Homebrew by pasting the following
command into a terminal window.</p>

<p>```bash
$ ruby -e &ldquo;$(curl -fsSL <a href="https://raw.github.com/Homebrew/homebrew/go/install">https://raw.github.com/Homebrew/homebrew/go/install</a>)"install</p>

<p>```
The script will walk you through the installation process. If you would like to read the script before installation, you can visit the <a href="https://github.com/Homebrew/homebrew">Homebrew repo on Github</a>.</p>

<h3>Installing Packages</h3>

<p>A list of <a href="https://github.com/Homebrew/homebrew/tree/master/Library/Formula">available Homebrew packages</a> is maintained on GitHub.</p>

<p>To install a package, say <code>imagemagick</code> for example&hellip;</p>

<p><code>bash
$ brew install imagemagick
</code></p>

<p>Before Homebrew, installing <code>imagemagick</code> was long and arduous. With Homebrew, the installation and compilation steps still take awhile. But dependencies are resolved by Homebrew, and little user interaction is required after the first step.</p>

<h3>Maintaining Homebrew</h3>

<p>Developers from around the world contribute to Homebrew, so the tool gets improved often. To check the health of your Homebrew installation, use <code>brew doctor</code>.</p>

<p><code>``bash
$ brew doctor
Warning: Your Homebrew is outdated.
You haven't updated for at least 24 hours, this is a long time in brewland!
To update Homebrew, run</code>brew update`.</p>

<p>$</p>

<p>```</p>

<p><code>brew update</code> will apply recent updates.</p>

<p>```bash
$ brew update
Updated Homebrew from f83642fc to cfad513e.
==> New Formulae
&hellip;
==> Updated Formulae
&hellip;
==> Deleted Formulae
&hellip;</p>

<p>$</p>

<p>```</p>

<h3>Looking at Packages</h3>

<p>There are several ways to view the packages that have been installed on a system via Homebrew. Use <code>brew list</code> at the command prompt to get a quick view of what Homebrew has installed.</p>

<p>Even better: <code>brew server</code> will launch a local <a href="http://www.sinatrarb.com/">Sinatra</a> app, and then you can point a browser to <code>http://localhost:4567</code> for a web-enabled view of the installed packages.</p>

<p>```bash
$ brew server
View our tasting menu at <a href="http://localhost:4567/">http://localhost:4567/</a>
Use &ldquo;Control-C&rdquo; to exit.</p>

<p>[2014-02-12 16:33:18] INFO  WEBrick 1.3.1
[2014-02-12 16:33:18] INFO  ruby 1.8.7 (2012-02-08) [universal-darwin12.0]
== Sinatra/1.3.3 has taken the stage on 4567 for development with backup from WEBrick
[2014-02-12 16:33:18] INFO  WEBrick::HTTPServer#start: pid=96694 port=4567
```</p>

<p><span class='caption-wrapper center'><img class='caption' src='/images/brew-server.png' width='' height='' alt='Browsing locally-installed Homebrew packages.' title='Browsing locally-installed Homebrew packages.'><span class='caption-text'>Browsing locally-installed Homebrew packages.</span></span></p>

<h3>Making Your Own Packages</h3>

<p>Homebrew is Ruby-based, so Rubyists can create their own packages.  Details can be found in the (continuously updated) <a href="https://github.com/Homebrew/">Homebrew repo on GitHub</a>.</p>

<h3>Conclusion</h3>

<p>Enjoy Homebrew!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Installing Rubinius Using RVM]]></title>
    <link href="http://RayHightower.com/blog/2014/02/06/installing-rubinius-using-rvm/"/>
    <updated>2014-02-06T18:17:00-05:00</updated>
    <id>http://RayHightower.com/blog/2014/02/06/installing-rubinius-using-rvm</id>
    <content type="html"><![CDATA[<p><img class="right" src="/images/rubinius.png">
<a href="http://rubini.us/">Rubinius</a> is an implementation of the Ruby language designed for concurrency. The lead developer of Rubinius, <a href="http://twitter.com/brixen">Brian Shirai</a>, will present Rubinius at ChicagoRuby on March 4, 2014. ChicagoRuby will follow-up with a Rubinius-themed hack night on March 12th. <a href="http://www.meetup.com/ChicagoRuby/events/114749352/">Details</a>.</p>

<p>To prepare for the Rubinius events, some people may choose to install Rubinius locally. RVM makes the process smooth.</p>

<!--more-->


<h3>RVM Recap</h3>

<p><a href="http://rayhightower.com/blog/2013/05/16/upgrading-ruby-with-rvm/">Ruby Version Manager (RVM)</a> is an awesome tool that enables developers to:</p>

<ul>
<li>install multiple versions of Ruby on one system,</li>
<li>bounce between the different versions, and</li>
<li>to do all of that with minimal headaches.</li>
</ul>


<p>Similar tools exist, but RVM is the one that has always worked for me.  If you don&rsquo;t have RVM installed, detailed installation instructions can be found at <a href="http://rvm.io">http://rvm.io</a>.</p>

<h3>Get the Latest RVM</h3>

<p>These instructions work on Mac OS X v10.8.5. The same steps will probably work on Linux, except for the references to Homebrew.</p>

<p>First, make sure you&rsquo;re running the latest version of RVM.</p>

<p>```bash
$ rvm get head
Downloading <a href="https://get.rvm.io">https://get.rvm.io</a>
Downloading <a href="https://github.com/wayneeseguin/rvm/archive/master.tar.gz">https://github.com/wayneeseguin/rvm/archive/master.tar.gz</a></p>

<p>Upgrading the RVM installation in /Users/rth/.rvm/</p>

<pre><code>RVM PATH line found in /Users/rth/.bashrc /Users/rth/.zshrc.
RVM sourcing line found in /Users/rth/.bash_profile /Users/rth/.zprofile.
Migrating environment ruby-1.9.2-p290 to use with 'gem-wrappers' gem.

 …

 Installing gem-wrappers gem in 3 gemsets.
</code></pre>

<p>Upgrade of RVM in /Users/rth/.rvm/ is complete.</p>

<pre><code> …
</code></pre>

<p>In case of problems: <a href="http://rvm.io/help">http://rvm.io/help</a> and <a href="https://twitter.com/rvm_io">https://twitter.com/rvm_io</a></p>

<p>RVM reloaded!</p>

<p>$
```</p>

<h3>Next, Install Rubinius</h3>

<p>As of this writing, Rubinius can operate in 1.8 language mode (the default) or 1.9 language mode. Installing in 1.9 mode requires an additional command line flag, shown below.</p>

<p>```bash
$ rvm install rbx &mdash;1.9</p>

<p>```</p>

<h3>Testing the Rubinius Installation</h3>

<p>First, let&rsquo;s make sure that RVM shows the new Rubinius (rbx) installation.</p>

<p>```bash
$ rvm list</p>

<p>rvm rubies</p>

<p>=> rbx-2.2.4 [ x86_64 ]
   ruby-1.9.2-p290 [ x86_64 ]
 * ruby-1.9.3-p484 [ x86_64 ]
   ruby-2.0.0-p353 [ x86_64 ]</p>

<h1>=> &ndash; current</h1>

<h1>=* &ndash; current &amp;&amp; default</h1>

<h1>* &ndash; default</h1>

<p>$
```</p>

<p>It&rsquo;s always good to have multiple ways to verify information.</p>

<p>```bash
$ ruby &mdash;version
rubinius 2.0.0.n37 (1.9.3 6d611c7a 2014-02-06 JI) [x86_64-darwin12.5.0]</p>

<p>$
```</p>

<p>And now, let&rsquo;s do a quick &ldquo;Hello World&rdquo; test drive using the Rubinius
version of <code>irb</code>.</p>

<p>```bash
$ irb
rbx-2.2.4 :001 > p &lsquo;Hello World, from Rubinius&rsquo;
&ldquo;Hello World, from Rubinius&rdquo;
 => &ldquo;Hello World, from Rubinius&rdquo;
rbx-2.2.4 :002 > quit</p>

<p>$
```</p>

<h3>Post Installation Notes</h3>

<p>The installation script found two outdated Homebrew-installed packages on my system: <code>automake</code> and <code>openssl</code>. It would have been better for me to upgrade Homebrew and related packages <em>before</em> installing Rubinius.</p>

<p>Why install Rubinius? Why do we care about concurrency? These are two questions I expect to explore through my new Rubinius installation.</p>

<h3>Come Hack With Rubinius</h3>

<p>If March 2014 finds you in the Chicago area, you&rsquo;re invited to visit ChicagoRuby for some back-to-back Rubinius action. See <a href="http://www.meetup.com/ChicagoRuby/events/114749352/">http://meetup.com/chicagoruby</a> for details.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[BeagleBone Black Running Ubuntu: Part2 (Plus Ruby on Rails)]]></title>
    <link href="http://RayHightower.com/blog/2014/01/06/beaglebone-black-ubuntu-ruby-rails-part-2/"/>
    <updated>2014-01-06T02:31:00-05:00</updated>
    <id>http://RayHightower.com/blog/2014/01/06/beaglebone-black-ubuntu-ruby-rails-part-2</id>
    <content type="html"><![CDATA[<p><span class='caption-wrapper right'><img class='caption' src='/images/ruby-rails-ubuntu-beaglebone-black.png' width='' height='' alt='Ruby. Rails. Ubuntu. BeagleBone Black.' title='Ruby. Rails. Ubuntu. BeagleBone Black.'><span class='caption-text'>Ruby. Rails. Ubuntu. BeagleBone Black.</span></span></p>

<p>Part one of this series shows <a href="/blog/2014/01/02/beaglebone-black-ubuntu-part-1/">how to install Ubuntu on the BeagleBone Black</a>. We used a MacBook Pro to burn an Ubuntu disk image onto an SD card, and then we booted a BeagleBone Black from the image we created.</p>

<p>This post, part two, covers the installation of the Ubuntu GUI, Ruby, and Rails. All of the commands in this article are run on the BeagleBone Black.</p>

<p><a href="http://nodejs.org">Node.js</a> bonus: Rails requires a JavaScript runtime, and Node.js offered the quickest way to fulfill this requirement. Details appear within.</p>

<h3>Gotcha: Partition Size</h3>

<p>At the end of <a href="/blog/2014/01/02/beaglebone-black-ubuntu-part-1/">part one</a>, we successfully booted the Bone with the Ubuntu command line interface. Now it&rsquo;s time to add the GUI. Two things to know about the Ubuntu GUI installation&hellip;</p>

<!--more-->


<ul>
<li>The partition we created on the SD card (in part one) is too small to hold the Ubuntu GUI. Solution: The SD card has some extra room, and we can re-size the partition.</li>
<li>We can install the Ubuntu GUI with a single line command. But it takes an hour for the Bone to download, compile, and install all of the GUI libraries.</li>
</ul>


<p>If we try to install the GUI with insufficient space, the installation will fail midway and we will have wasted half an hour. So it&rsquo;s best to re-size first.</p>

<h3>Doing Our Own Re-Sizing?</h3>

<p>Why didn&rsquo;t the partition have the right size when we originally downloaded the image file? Good question.</p>

<p>My guess: The image file was designed to be as small as possible in order to minimize download time. That makes sense. I plan to test this theory by creating a new image with a larger partition size and a pre-installed GUI. If the test is successful, results will be posted on this blog. If the mission fails, then the secretary will disavow any knowledge&hellip;</p>

<h3>How to Re-Size the Partition</h3>

<p><code>df</code> is the Unix &lsquo;disk free&rsquo; command. It shows used/available disk space.</p>

<p>```bash
ubuntu@ubuntu-armhf:~$ df</p>

<p>Filesystem     1K-blocks    Used Available Use% Mounted on
rootfs           3778576 2722944    885776  76% /
/dev/root        3778576 2722944    885776  76% /
devtmpfs          253580       4    253576   1% /dev
none               50748     608     50140   2% /run
none                5120       0      5120   0% /run/lock
none              253728     204    253524   1% /run/shm
/dev/mmcblk0p1      1004     480       524  48% /boot/uboot
/dev/mmcblk1p1     65390    6536     58854  10% /media/boot
/dev/mmcblk1p2   1748200    2664   1655068   1% /media/rootfs</p>

<p>ubuntu@ubuntu-armhf:~$
```</p>

<p><code>ll</code> is one of the useful aliases built into Ubuntu&rsquo;s <code>.bashrc</code> file. We
can use it to examine the partitions on the SD card.</p>

<p>```bash
ubuntu@ubuntu-armhf:~$ ll /dev/mmcblk*</p>

<p>brw-rw&mdash;&mdash; 1 root disk 179,  0 Jan  5 15:37 /dev/mmcblk0
brw-rw&mdash;&mdash; 1 root disk 179,  1 Jan  1  2000 /dev/mmcblk0p1
brw-rw&mdash;&mdash; 1 root disk 179,  2 Jan  1  2000 /dev/mmcblk0p2
brw-rw&mdash;&mdash; 1 root disk 179,  8 Jan  1  2000 /dev/mmcblk1
brw-rw&mdash;&mdash; 1 root disk 179, 16 Jan  1  2000 /dev/mmcblk1boot0
brw-rw&mdash;&mdash; 1 root disk 179, 24 Jan  1  2000 /dev/mmcblk1boot1
brw-rw&mdash;&mdash; 1 root disk 179,  9 Jan  1  2000 /dev/mmcblk1p1
brw-rw&mdash;&mdash; 1 root disk 179, 10 Jan  1  2000 /dev/mmcblk1p2</p>

<p>ubuntu@ubuntu-armhf:~$
```</p>

<p><code>fdisk</code> will resize the partition we&rsquo;re after. <code>root</code> priviledges are required to modify the partition table, so we&rsquo;ll use <code>sudo</code>. The standard <a href="/sudo-disclaimer">sudo disclaimer</a> applies.</p>

<p>A few useful <code>fdisk</code> commands:</p>

<ul>
<li><code>p</code> prints the partition table.</li>
<li><code>d</code> deletes a partition.</li>
<li><code>n</code> creates a new partition.</li>
<li><code>w</code> write new information to the partition table.</li>
<li><code>q</code> quits fdisk.</li>
</ul>


<p>Here&rsquo;s the plan: In order to increase the size of <code>/dev/mmcblk0p2</code>, we will delete it, and then re-create it with a larger size. Note the use of the <code>d</code> and <code>n</code> commands in the following sequence. When <code>fdisk</code> asks us for the new partition number, type, first sector, and last sector, we will choose the defaults. Choosing the defaults will use all of the available space on the SD card.</p>

<p>Your numbers will vary depending on the size and configuration of your SD card, but the general procedure will be the same.</p>

<p>```bash
ubuntu@ubuntu-armhf:~$ sudo fdisk /dev/mmcblk0
[sudo] password for ubuntu:</p>

<p>Command (m for help): p</p>

<p>Disk /dev/mmcblk0: 3965 MB, 3965190144 bytes
4 heads, 16 sectors/track, 121008 cylinders, total 7744512 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x80008000</p>

<pre><code>    Device Boot      Start         End      Blocks   Id  System
</code></pre>

<p>/dev/mmcblk0p1   *        2048      133119       65536    e  W95 FAT16 (LBA)
/dev/mmcblk0p2          133120     1638399      752640   83  Linux</p>

<p>Command (m for help): d
Partition number (1-4): 2</p>

<p>Command (m for help): p</p>

<p>Disk /dev/mmcblk0: 3965 MB, 3965190144 bytes
4 heads, 16 sectors/track, 121008 cylinders, total 7744512 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x80008000</p>

<pre><code>    Device Boot      Start         End      Blocks   Id  System
</code></pre>

<p>/dev/mmcblk0p1   *        2048      133119       65536    e  W95 FAT16 (LBA)</p>

<p>Command (m for help): n
Partition type:
   p   primary (1 primary, 0 extended, 3 free)
   e   extended
Select (default p): p
Partition number (1-4, default 2): 2
First sector (133120-7744511, default 133120):
Using default value 133120
Last sector, +sectors or +size{K,M,G} (133120-7444511, default 7744511):
Using default value 7744511</p>

<p>Command (m for help): p</p>

<p>Disk /dev/mmcblk0: 3965 MB, 3965190144 bytes
4 heads, 16 sectors/track, 121008 cylinders, total 7744512 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x80008000</p>

<pre><code>    Device Boot      Start         End      Blocks   Id  System
</code></pre>

<p>/dev/mmcblk0p1   *        2048      133119       65536    e  W95 FAT16 (LBA)
/dev/mmcblk0p2          133120     7744511     3805696   83  Linux</p>

<p>Command (m for help): w
The partition table has been altered!</p>

<p>Calling ioctl() to re-read partition table.</p>

<p>Warning: Re-reading the partition table failed with error 16: Device or resource busy.
The kernel still uses the old table. The new table will b eused at
the next reboot or after you run partprobe(8) or kpartx(8)
Syncing disks.</p>

<p>ubuntu@ubuntu-armhf:~$
```</p>

<p>The warning/error message at the end just means that we need reboot the Bone before the partition table takes effect.</p>

<p>Reboot the BeagleBone Black, holding down the boot switch (closest to
the USB port) to ensure that we boot to the system on the SD card
instead of the eMMC.</p>

<p>After the Bone reboots, run <code>resize2fs</code> to expand the partition created above.</p>

<p>```bash
ubuntu@ubuntu-armhf:~$ sudo resize2fs /dev/mmcblk0p2
[sudo] password for ubuntu:
resize2fs 1.42.5 (29-Jul-2012)
Filesystem at /dev/mmcblk0p2 is mounted on /; on-line resizing required
old_desc_blocks = 1, new_desc_blocks = 1
The filesystem on /dev/mmcblk0p2 is now 951424 blocks long.</p>

<p>ubuntu@ubuntu-armhf:~$
```</p>

<p>And now we have enough room to install the Ubuntu GUI.</p>

<h3>Installing the Ubuntu GUI</h3>

<p><em>Update (Feb2014): In the comments below, Jonathan Chan describes how he updated the desktop installation files before installing the Ubuntu desktop. To update the desktop installation files, grab the latest list of packages (<code>update</code>) and then <code>upgrade</code> the packages that need it.</em></p>

<p>```bash
$ sudo apt-get update</p>

<p>$</p>

<p>$ sudo apt-get upgrade</p>

<p>$<br/>
```</p>

<p>After the partition on the SD card has been resized, this command will intall the GUI. The command is short, but the process takes about an hour:</p>

<p><code>bash
$ sudo apt-get install ubuntu-desktop
</code>
When installation and compilation are complete, Ubuntu will return to the command prompt. Here&rsquo;s how to reboot:</p>

<p><code>bash
$ sudo reboot
</code></p>

<p>Several minutes later, the Ubuntu 12 GUI will appear. Congratulations!  Login using the default credentials (login: ubuntu, pw: ubuntu) to get to the Ubuntu desktop.</p>

<h3>Gotcha: Running RVM</h3>

<p>I prefer to use the Ruby Version Manager (RVM) for bouncing between Ruby versions. RVM misbehaved, initially. Then I learned something special about RVM&rsquo;s interaction with Ubuntu. From the RVM support pages…</p>

<blockquote><p>For RVM to work properly, you have to set the &lsquo;Run command as login shell&rsquo; checkbox on the Title and Command tab inside of gnome-terminal&rsquo;s Settings page.</p></blockquote>

<p>This image shows the checkbox mentioned in the quote. It&rsquo;s inside of the lower red rectangle.</p>

<p><span class='caption-wrapper'><img class='caption' src='/images/rvm-ubuntu-run-command_as_login-shell.jpg' width='' height='' alt='RVM: Run command as login shell.' title='RVM: Run command as login shell.'><span class='caption-text'>RVM: Run command as login shell.</span></span></p>

<p>Details are in the RVM support article <a href="http://rvm.io/integration/gnome-terminal">Integrating RVM with gnome-terminal</a>.</p>

<h3>Gotcha: Ruby Installation</h3>

<p>Ruby installation initially failed (speculation) because the Bone went into power save mode during the installation process. Ruby installed successfully on the second try when I kept the machine awake by moving the mouse. This <em>power save hypothesis</em> has not been thoroughly tested.</p>

<h3>Gotcha: Rails Installation</h3>

<p><span class='caption-wrapper right'><img class='caption' src='/images/nodejs-white.png' width='' height='' alt='Node.js on BeagleBone Black.' title='Node.js on BeagleBone Black.'><span class='caption-text'>Node.js on BeagleBone Black.</span></span>
Rails needs a JavaScript runtime in order to function. Here are two ways to meet this requirement:</p>

<ul>
<li>Install Node.js, or</li>
<li>Install <a href="http://rubygems.org/gems/therubyracer">therubyracer</a> gem.</li>
</ul>


<p>Installing <code>therubyracer</code> did not work for me. But Node.js installed quickly, like so:</p>

<p><code>bash
$ sudo apt-get install nodejs
</code></p>

<p>Now that we have a JavaScript runtime, Rails runs successfully.</p>

<p>Side note: If you want to see what a Node.js-equipped Bone can do, check
out <a href="http://openrov.com">OpenROV</a>.</p>

<h3>Conclusion</h3>

<p>Bottom line: Ruby, Rails, and Ubuntu can run successfully on BeagleBone Black, with Node.js as a bonus.</p>

<p>The BeagleBone Black is a cool option for running Ubuntu. Yes, it runs slower than a typical laptop. But it runs, and at $45 each we can build a cluster of Bones if we&rsquo;re concerned about performance!</p>

<p>What an amazing bundle of technology.</p>

<p><em>You might also be interested in <a href="/blog/2012/12/03/ruby-on-raspberry-pi/">Ruby on Raspberry Pi</a></em>.</p>
]]></content>
  </entry>
  
</feed>
